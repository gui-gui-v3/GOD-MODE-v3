--[[
    V3 MOVEABLE GUI - NO KEY
    Hỗ trợ: Kéo/Di chuyển trên cả Mobile & PC
]]

local ScreenGui = Instance.new("ScreenGui")
local MainFrame = Instance.new("Frame")
local Title = Instance.new("TextLabel")
local Container = Instance.new("ScrollingFrame")
local UIListLayout = Instance.new("UIListLayout")

-- Tự động nhận diện và bảo vệ chống xóa
ScreenGui.Name = "V3_Moveable_System"
ScreenGui.Parent = game.CoreGui
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

-- Khung chính có thể di chuyển
MainFrame.Name = "MainFrame"
MainFrame.Parent = ScreenGui
MainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
MainFrame.BorderSizePixel = 0
MainFrame.Position = UDim2.new(0.3, 0, 0.3, 0)
MainFrame.Size = UDim2.new(0, 200, 0, 250)
MainFrame.Active = true
MainFrame.Draggable = true -- TÍNH NĂNG DI CHUYỂN

local UICorner = Instance.new("UICorner", MainFrame)

-- Tiêu đề (Nên cầm vào đây để kéo)
Title.Name = "Title"
Title.Parent = MainFrame
Title.Size = UDim2.new(1, 0, 0, 35)
Title.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
Title.Text = "V3 GOLD (KÉO ĐỂ DI CHUYỂN)"
Title.TextColor3 = Color3.fromRGB(255, 215, 0)
Title.TextSize = 14
local UICorner2 = Instance.new("UICorner", Title)

-- Vùng chứa các nút
Container.Name = "Container"
Container.Parent = MainFrame
Container.BackgroundTransparency = 1
Container.Position = UDim2.new(0.05, 0, 0.18, 0)
Container.Size = UDim2.new(0.9, 0, 0.75, 0)
Container.CanvasSize = UDim2.new(0, 0, 1.5, 0)
Container.ScrollBarThickness = 2

UIListLayout.Parent = Container
UIListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
UIListLayout.Padding = UDim.new(0, 8)

-- Hàm tạo nút bấm
local function AddButton(text, color, callback)
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1, 0, 0, 35)
    btn.Text = text
    btn.BackgroundColor3 = color
    btn.TextColor3 = Color3.new(1,1,1)
    btn.Parent = Container
    Instance.new("UICorner", btn)
    btn.MouseButton1Click:Connect(callback)
end

-- --- CÁC CHỨC NĂNG --- --

-- 1. GOD MODE (BẤT TỬ)
AddButton("GOD MODE: OFF", Color3.fromRGB(50, 50, 50), function(b)
    _G.God = not _G.God
    script.Parent.Text = _G.God and "GOD MODE: ON" or "GOD MODE: OFF"
    task.spawn(function()
        while _G.God do
            pcall(function()
                game.Players.LocalPlayer.Character.Humanoid.Health = 100
            end)
            task.wait(0.2)
        end
    end)
end)

-- 2. LASER ESP (VẼ TIA/VIỀN ĐỎ)
AddButton("LASER ESP", Color3.fromRGB(200, 0, 0), function()
    for _, v in pairs(game.Players:GetPlayers()) do
        if v ~= game.Players.LocalPlayer and v.Character then
            local h = Instance.new("Highlight", v.Character)
            h.FillColor = Color3.new(1, 0, 0)
            h.OutlineColor = Color3.new(1, 1, 1)
        end
    end
end)

-- 3. SPEED (TỐC ĐỘ)
AddButton("SPEED BOOST", Color3.fromRGB(0, 120, 200), function()
    game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = 60
end)

-- 4. ĐÓNG GUI
AddButton("DÓNG GUI", Color3.fromRGB(100, 20, 20), function()
    ScreenGui:Destroy()
end)
